(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(13),o=n.n(a),s=(n(35),n(11)),i=n(5),l=n(22),u=n.n(l),d=n(27),m=n(9),j=n(3),b=n(10),p=n(1);var h=Object(j.g)((function(e){var t=e.login,n=e.history,c=Object(r.useState)({accountNumber:"",password:""}),a=Object(m.a)(c,2),o=a[0],l=a[1],j=function(){var e=Object(d.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),t(o).then((function(e){e.success&&n.push("/accoutDashBoard")})).catch((function(e){(new Error).message=e.text,alert(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;l((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(s.a)({},n,r))}))};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Welcome To Gold Bank."}),Object(p.jsx)("h2",{children:"Kindly input your login details to sign in"}),Object(p.jsxs)("form",{onSubmit:j,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"number",name:"accountNumber",min:"0",className:"form-control",placeholder:"Account/Phone Number",value:o.fullName,onChange:h,required:!0})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"Password",value:o.fullName,onChange:h,required:!0})}),Object(p.jsxs)("div",{className:"action-items",children:[Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"}),Object(p.jsx)(b.b,{className:"btn btn-outline-primary",to:"/signup",children:"Sign Up"})]})]})]})}));function f(e){var t=e.signup,n=Object(r.useState)({fullName:"",contact:"",gender:"",password:"",confirmPassword:""}),c=Object(m.a)(n,2),a=c[0],o=c[1],l=Object(r.useState)(!1),u=Object(m.a)(l,2),d=u[0],h=u[1],f=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;o((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(s.a)({},n,r))}))};return Object(p.jsxs)(p.Fragment,{children:[d&&Object(p.jsx)(j.a,{to:"/login"}),Object(p.jsx)("h1",{children:"Welcome"}),Object(p.jsx)("h2",{children:"Kindly sign up to own an account with us today."}),Object(p.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),a.password!==a.confirmPassword)return alert("Passwords do not match"),!1;t(a).then((function(e){h(e)})).catch((function(e){(new Error).message=e.text,alert(e)}))},children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",name:"fullName",className:"form-control",placeholder:"Full Name",value:a.fullName,onChange:f,required:!0})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"number",name:"contact",className:"form-control",placeholder:"Phone Number",value:a.contact,onChange:f,required:!0})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control",name:"gender",value:a.gender,onChange:f,required:!0,children:[Object(p.jsx)("option",{value:"",hidden:!0,children:"Select a gender"}),Object(p.jsx)("option",{value:"male",children:"Male"}),Object(p.jsx)("option",{value:"female",children:"Female"}),Object(p.jsx)("option",{value:"undisclosed",children:"Prefer not to say"})]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"Password",value:a.password,onChange:f})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"password",name:"confirmPassword",className:"form-control",placeholder:"Confirm Password",value:a.confirmPassword,onChange:f})}),Object(p.jsxs)("div",{className:"action-items",children:[Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"}),Object(p.jsx)(b.b,{className:"btn btn-outline-primary",to:"/login",children:"Login"})]})]})]})}function O(){var e=(new Date).getHours();return e<12||0===e?"Good morning":e<16?"Good afternoon":"Good evening"}var y=n(19),g=n.n(y);function x(e){var t=e.info,n=Object(r.useState)({accountBalance:null,accountNumber:null,fullName:null,gender:null,lastloggedIn:null,_id:null}),c=Object(m.a)(n,2),a=c[0],o=c[1],s=Object(r.useState)(!1),i=Object(m.a)(s,2),l=i[0],u=i[1];Object(r.useEffect)((function(){o(t)}),[t]);return Object(p.jsxs)(p.Fragment,{children:[l&&Object(p.jsx)(j.a,{to:"/sendMoney"}),Object(p.jsx)("h1",{children:"Gold Bank"}),Object(p.jsxs)("h2",{children:[O(),", ",a.fullName]}),Object(p.jsxs)("p",{children:["Account #",Object(p.jsx)("b",{children:a.accountNumber})]}),Object(p.jsxs)("h3",{children:["Account Balance: =N= ",Object(p.jsx)("b",{children:a.accountBalance})]}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){u(!0)},children:"Send Money"}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){document.getElementById("transactHistoryDebit").style.display="none",document.getElementById("transactHistoryCredit").style.display="none";var e=document.getElementById("transactHistory");if(e.style.display="block",0===t.transactionHistory.length)return""===e.innerHTML&&void(e.innerHTML="There are no entries to display.");if(""===e.innerHTML||"There are no entries to display."===e.innerHTML){var n=document.createElement("h2");return n.innerHTML="Transaction History",e.appendChild(n),void t.transactionHistory.forEach((function(t,n){e.innerHTML+="<div key=".concat(n,' class="card transactionContainer mb-3" style="width: 18rem">\n              <ul class="list-group transactionList">\n                <li class="list-group-item">').concat(g()(t.Date,"dd/mmm/yyyy HH:MM"),'</li>\n                <li class="list-group-item">').concat(t.Type,'</li>\n                <li class="list-group-item">').concat(t.AcctNum,'</li>\n                <li class="list-group-item">').concat(t.Amount,'</li>\n                <li class="list-group-item">').concat(t.Narration,"</li>\n              </ul>\n            </div>\n            ")}))}return!1},children:"View Account Statement"}),"\xa0",Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){document.getElementById("transactHistory").style.display="none",document.getElementById("transactHistoryCredit").style.display="none";var e=document.getElementById("transactHistoryDebit");e.style.display="block";var n=t.transactionHistory.filter((function(e){return"Transaction type: Dr"===e.Type}));if(0===n.length)return""===e.innerHTML&&void(e.innerHTML="There are no entries to display.");if(""===e.innerHTML||"There are no entries to display."===e.innerHTML){var r=document.createElement("h2");return r.innerHTML="Debit Transactions",e.appendChild(r),void n.forEach((function(t,n){e.innerHTML+="<div key=".concat(n,' class="card transactionContainer mb-3" style="width: 18rem">\n              <ul class="list-group transactionList">\n                <li class="list-group-item">').concat(g()(t.Date,"dd/mmm/yyyy HH:MM"),'</li>\n                <li class="list-group-item">').concat(t.Type,'</li>\n                <li class="list-group-item">').concat(t.AcctNum,'</li>\n                <li class="list-group-item">').concat(t.Amount,'</li>\n                <li class="list-group-item">').concat(t.Narration,"</li>\n              </ul>\n            </div>\n            ")}))}return!1},children:"View All Debit Transaction"}),"\xa0",Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){document.getElementById("transactHistory").style.display="none",document.getElementById("transactHistoryDebit").style.display="none";var e=document.getElementById("transactHistoryCredit");e.style.display="block";var n=t.transactionHistory.filter((function(e){return"Transaction type: Cr"===e.Type}));if(0===n.length)return""===e.innerHTML&&void(e.innerHTML="There are no entries to display.");if(""===e.innerHTML||"There are no entries to display."===e.innerHTML){var r=document.createElement("h2");return r.innerHTML="Credit Transactions",e.appendChild(r),void n.forEach((function(t,n){e.innerHTML+="<div key=".concat(n,' class="card transactionContainer mb-3" style="width: 18rem">\n              <ul class="list-group transactionList">\n                <li class="list-group-item">').concat(g()(t.Date,"dd/mmm/yyyy HH:MM"),'</li>\n                <li class="list-group-item">').concat(t.Type,'</li>\n                <li class="list-group-item">').concat(t.AcctNum,'</li>\n                <li class="list-group-item">').concat(t.Amount,'</li>\n                <li class="list-group-item">').concat(t.Narration,"</li>\n              </ul>\n            </div>\n            ")}))}return!1},children:"View All Credit Transaction"}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{id:"transactHistory"}),Object(p.jsx)("div",{id:"transactHistoryDebit"}),Object(p.jsx)("div",{id:"transactHistoryCredit"})]})}var v=n(18);function N(e){var t=e.senderInfo,n=e.sendMoney,c=Object(r.useState)({benAcctNum:"",benFullName:"",amount:"",narration:""}),a=Object(m.a)(c,2),o=a[0],l=a[1],u=Object(r.useState)(!1),d=Object(m.a)(u,2),b=d[0],h=d[1],f=function(e){var t=e.target.value,n=e.target.name;l((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(s.a)({},n,t))}))};return Object(p.jsxs)(p.Fragment,{children:[b&&Object(p.jsx)(j.a,{to:"/accoutDashBoard"}),Object(p.jsx)("h1",{children:"Gold Bank"}),Object(p.jsx)("h2",{children:"Transfer Funds"}),Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("input",{type:"number",name:"benAcctNum",className:"form-control",placeholder:"Destination Account Number",value:o.benAcctNum,onChange:f,required:!0}),Object(p.jsx)("input",{type:"text",name:"benFullName",className:"form-control",placeholder:"Receipient Account Name",value:o.benFullName,readOnly:!0}),Object(p.jsx)("input",{type:"number",name:"amount",className:"form-control",placeholder:"Amount to transfer",value:o.amount,onChange:f,required:!0}),Object(p.jsx)("input",{type:"text",name:"narration",className:"form-control",placeholder:"Narration",value:o.narration,onChange:f})]}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(e){if(e.preventDefault(),t.accountBalance<o.amount)return alert("Insufficient funds"),!1;var r={senderId:t._id,receipient:Object(i.a)({},o)};n(r)&&(v.b.success("Transfer Successful"),h(!0))},children:"Transfer"})]})]})}var T=n(17),w=(n(43),"GET_CLIENT_INFO");function H(e){return{type:w,payload:e}}var C=Object(T.b)((function(e){return{loggedInClient:e.loggedInClient}}),(function(e){return{login:function(t){return e((n=t,function(e){return fetch("/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)}).then((function(e){if(e.ok)return e;throw console.log("An error occured "+e.text),new Error("Error: "+e.statusText)})).then((function(e){return e.json()})).then((function(t){return e(H(t)),{success:!0}})).catch((function(e){var t=new Error(e.message);return alert(t),{success:!1}}))}));var n},sendMoney:function(t){return e((n=t,function(e){return fetch("/transfer",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)}).then((function(e){if(e.ok)return e;console.log("An error occured "+e.text);var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t})).then((function(e){return e.json()})).then((function(t){return e(H(t)),!0})).catch((function(e){throw new Error(e.message)}))}));var n},signup:function(t){return e((n=t,function(e){return fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)}).then((function(e){if(e.ok)return!0;throw console.log("An error occured "+e.text),new Error("Error: "+e.statusText)})).catch((function(e){throw new Error(e.message)}))}));var n}}}))((function(e){var t=e.login,n=e.sendMoney,r=e.loggedInClient,c=e.signup;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(v.a,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),Object(p.jsx)(b.a,{children:Object(p.jsxs)(j.d,{children:[Object(p.jsx)(j.b,{path:"/login",component:function(){return Object(p.jsx)(h,{login:t})}}),Object(p.jsx)(j.b,{path:"/signup",component:function(){return Object(p.jsx)(f,{signup:c})}}),Object(p.jsx)(j.b,{path:"/sendMoney",component:function(){return Object(p.jsx)(N,{sendMoney:n,senderInfo:r.clientData})}}),Object(p.jsx)(j.b,{path:"/accoutDashBoard",exact:!0,component:function(){return Object(p.jsx)(x,{info:r.clientData})}}),Object(p.jsx)(j.b,{path:"/",exact:!0,component:function(){return Object(p.jsx)(h,{login:t})}}),Object(p.jsx)(j.a,{to:"/"})]})})]})}));var E=function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(C,{})})},M=n(12),D=n(29),L={accountBalance:null,accountNumber:null,fullName:null,gender:null,lastloggedIn:null,_id:null,transactionHistory:[]};var S=Object(M.c)({loggedInClient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clientData:L},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(i.a)(Object(i.a)({},e),{},{clientData:t.payload});default:return e}}}),A=n(30),I=n.n(A);var B=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||M.d;return Object(M.e)(S,e,t(Object(M.a)(D.a,I()())))}();o.a.render(Object(p.jsx)(T.a,{store:B,children:Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(E,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.66843033.chunk.js.map